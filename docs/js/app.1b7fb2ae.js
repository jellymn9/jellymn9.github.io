(function(e){function t(t){for(var r,a,o=t[0],c=t[1],u=t[2],d=0,v=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&v.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/task3vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a04":function(e,t,n){"use strict";var r=n("65af"),i=n.n(r);i.a},3753:function(e,t,n){"use strict";var r=n("7806"),i=n.n(r);i.a},"45e0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},s=[],a={name:"App",components:{},data:function(){return{}}},o=a,c=n("2877"),u=n("6544"),l=n.n(u),d=n("7496"),v=Object(c["a"])(o,i,s,!1,null,null,null),m=v.exports;l()(v,{VApp:d["a"]});var p=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("login")],1)},h=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticStyle:{height:"450px",width:"500px","margin-left":"450px",padding:"30px","margin-top":"200px"},attrs:{elevation:"2",shaped:"",tile:""}},[n("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return n("v-tab",{key:t},[e._v(" "+e._s(t)+" ")])})),1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",[n("v-text-field",{attrs:{counter:"10",hint:"This field uses counter prop",label:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{counter:"10",label:"password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{attrs:{counter:"10",hint:"Correct",label:"Repeat Password","append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.repeatPassword],type:e.show2?"text":"password"},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.repeatPassword,callback:function(t){e.repeatPassword=t},expression:"repeatPassword"}}),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.submit()}}},[e._v(" Sign Up ")]),e.messageAppearance?n("div",{staticStyle:{"padding-top":"20px"}},[e.isActive?n("p",{class:{signUpClass:e.isActive}},[e._v(" "+e._s(this.singnUpMsgn)+" ")]):e._e(),e.isActive?e._e():n("p",{class:{signUpInvalidClass:!e.isActive}},[e._v(" Invalid entries! ")])]):e._e()],1),n("v-tab-item",[n("v-text-field",{attrs:{counter:"10",hint:e.returnError,label:"username","persistent-hint":"",error:e.triggerErrorUsername},model:{value:e.username1,callback:function(t){e.username1=t},expression:"username1"}}),n("v-text-field",{attrs:{counter:"10",label:"password",error:e.triggerErrorPassword,hint:e.returnError1,"persistent-hint":""},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.login()}}},[e._v(" Log In ")])],1)],1)],1)},g=[],w=(n("4de4"),n("5530")),x=n("2f62"),I={data:function(){var e=this;return{tab:!0,title:"",items:["Sign Up","Log In"],username:"",password:"",triggerErrorUsername:!1,triggerErrorPassword:!1,singnUpMsgn:"You have successfully registered!",isActive:!1,repeatPassword:"",returnError:"",returnError1:"",messageAppearance:!1,username1:"",password1:"",show1:!1,show2:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},repeatPassword:function(t){return t===e.password||"Inccorect password!"}}}},computed:Object(w["a"])(Object(w["a"])({},Object(x["c"])({users:"users"})),{},{isFormValid:function(){var e=this;return""!==this.username&&""!==this.password&&!this.users.filter((function(t){return t.username===e.username})).length},isFormValidLogin:function(){var e=this;return""!==this.username1&&""!==this.password1&&!!this.users.filter((function(t){return t.username==e.username1&&t.password==e.password1})).length}}),methods:{submit:function(){this.messageAppearance=!0,this.isFormValid?(this.isActive=!0,this.$store.dispatch("addNewUser",{username:this.username,password:this.password,isActive:!1}),this.username="",this.repeatPassword="",this.password=""):(this.isActive=!1,this.username="",this.password="",this.repeatPassword="")},login:function(){var e=this;if(this.isFormValidLogin){var t=this.users.filter((function(t){return t.username==e.username1}))[0];this.$store.dispatch("editUserActivation",this.username1),this.$router.push({name:"Main",params:{id:t.id}})}else{var n=this.users.filter((function(t){return t.username==e.username1})).length;console.log(n),n?(this.triggerErrorPassword=!0,this.returnError1="Wrong password!"):(this.triggerErrorUsername=!0,this.returnError="User with this username does not exist.")}}},watch:{messageAppearance:function(e){var t=this;e&&setTimeout((function(){return t.messageAppearance=!1}),3e3)}}},_=I,E=(n("1a04"),n("8336")),y=n("b0af"),k=n("71a3"),A=n("c671"),O=n("fe57"),C=n("aac8"),V=n("8654"),j=Object(c["a"])(_,b,g,!1,null,"7f9800ac",null),F=j.exports;l()(j,{VBtn:E["a"],VCard:y["a"],VTab:k["a"],VTabItem:A["a"],VTabs:O["a"],VTabsItems:C["a"],VTextField:V["a"]});var U={name:"Home",components:{Login:F}},T=U,$=Object(c["a"])(T,f,h,!1,null,null,null),N=$.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("p",{staticClass:"userClass"},[e._v("user: "+e._s(e.getUserName)+" ")]),n("v-btn",{staticClass:"userClass",attrs:{color:"deep-purple lighten-2"},on:{click:function(t){return e.logout()}}},[e._v(" Log out")]),n("invoice-list")],1)},S=[],L=(n("ac1f"),n("5319"),{components:{},data:function(){return{}},computed:Object(w["a"])(Object(w["a"])({},Object(x["c"])({users:"users"})),{},{getUserName:function(){var e=this;return this.users.filter((function(t){return t.id==parseInt(e.$route.params.id)}))[0].username},getUserActivation:function(){var e=this;return this.users.filter((function(t){return t.id==parseInt(e.$route.params.id)}))[0].isActive}}),methods:{logout:function(){var e=this.getUserName;this.$store.dispatch("editUserActivation",e),this.$router.push("/")},handler:function(){this.getUserActivation||this.$router.replace({name:"Home"})}},created:function(){window.addEventListener("beforeunload",this.handler())}}),D=L,M=(n("66a5"),Object(c["a"])(D,P,S,!1,null,"b0c23f0a",null)),R=M.exports;l()(M,{VBtn:E["a"]}),r["a"].use(p["a"]);var B=[{path:"/",name:"Home",component:N},{path:"",component:N},{path:"/main/:id",name:"Main",props:!0,component:R}],W=new p["a"]({mode:"history",base:"/task3vue/",routes:B}),q=W;n("c740"),n("a434");r["a"].use(x["a"]);var H=new x["a"].Store({state:{invoices:[{number:1,description:"first invoice",date:"20.10.2020",amount:5}],users:[{username:"Jelena",password:"jelena",isActive:!1,id:1},{username:"Dunja",password:"dunja",isActive:!1,id:2}]},getters:{getInvoicesNumbers:function(e){return e.invoices}},mutations:{NEW_INVOICE:function(e,t){e.invoices.push(t)},DELETE_INVOICE:function(e,t){e.invoices.splice(t,1)},DUPLICATE_INVOICE:function(e,t){e.invoices.push(t)},NEW_USER:function(e,t){var n=e.users.length+1;t.id=n,e.users.push(t)},EDIT_USER_STATE:function(e,t){console.log(t);var n=e.users.findIndex((function(e){return e.username==t}));console.log(n),e.users[n].isActive=!e.users[n].isActive}},actions:{addNewInvoice:function(e,t){var n=e.commit;n("NEW_INVOICE",t)},deleteInvoiceItem:function(e,t){var n=e.commit;n("DELETE_INVOICE",t)},duplicateInvoiceItem:function(e,t){var n=e.commit;n("DUPLICATE_INVOICE",t)},addNewUser:function(e,t){var n=e.commit;n("NEW_USER",t)},editUserActivation:function(e,t){var n=e.commit;n("EDIT_USER_STATE",t)}},modules:{}}),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("addInvoice"),n("v-card",{staticClass:"mx-auto my-12 invoice-list"},[n("v-text-field",{attrs:{label:"Search"},on:{keydown:function(t){return e.searchForInvoice()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.matchExists?n("v-card",[e._v(" number: "+e._s(this.matchedInvoice[0].number)+" description: "+e._s(this.matchedInvoice[0].description)+" ")]):n("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{dense:""}},e._l(e.invoices,(function(t,r){return n("v-list-item",{key:r},[e.deleteAlert?n("v-card",{staticClass:"alertClass",attrs:{outlined:""}},[n("p",[e._v("Are you sure you want to delete invoice?")]),n("v-btn",{staticClass:"alertBtn",on:{click:function(t){return e.deleteInvoice(r)}}},[e._v("Yes")]),n("v-btn",{staticClass:"alertBtn",on:{click:function(t){e.deleteAlert=!e.deleteAlert}}},[e._v(" No ")])],1):e._e(),n("v-list-item-content",[e._v(" number: "+e._s(t.number)+" description: "+e._s(t.description)+" "),n("div",{staticClass:"mx-2"},[n("v-btn",{attrs:{color:"primary",depressed:"",small:""},on:{click:function(t){e.deleteAlert=!e.deleteAlert}}},[n("v-icon",[e._v(" "+e._s(e.icons.mdiDelete)+" ")])],1),n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.duplicateInvoice(r)}}},[n("v-icon",[e._v(" mdi-plus ")])],1)],1)])],1)})),1)],1)],1)},Y=[],z=(n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto my-12 card",attrs:{loading:e.loading,"max-width":"500"}},[n("v-card-title",[e._v("Add Invoice")]),n("v-text-field",{attrs:{label:"number"},model:{value:e.invoiceForm.number,callback:function(t){e.$set(e.invoiceForm,"number",t)},expression:"invoiceForm.number"}}),n("v-text-field",{attrs:{label:"description"},model:{value:e.invoiceForm.description,callback:function(t){e.$set(e.invoiceForm,"description",t)},expression:"invoiceForm.description"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"490px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-text-field",e._g(e._b({staticClass:"fields",attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.invoiceForm.date,callback:function(t){e.$set(e.invoiceForm,"date",t)},expression:"invoiceForm.date"}},"v-text-field",i,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",staticClass:"fields",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01",align:"center"},on:{change:e.save},model:{value:e.invoiceForm.date,callback:function(t){e.$set(e.invoiceForm,"date",t)},expression:"invoiceForm.date"}})],1),n("v-text-field",{staticClass:"fields",attrs:{label:"amount"},model:{value:e.invoiceForm.amount,callback:function(t){e.$set(e.invoiceForm,"amount",t)},expression:"invoiceForm.amount"}}),n("v-card-actions",[n("v-btn",{attrs:{color:"deep-purple lighten-2",text:"",disabled:!e.isFormValid},on:{click:function(t){return e.addInvoice()}}},[e._v(" Submit ")])],1),n("p",{staticStyle:{color:"blue"}},[e._v(" Number must be unique!")])],1)}),G=[],K={number:0,description:"",date:null,amount:0},Q={data:function(){return{menu:!1,loading:!1,selection:1,invoiceForm:Object(w["a"])({},K)}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},computed:Object(w["a"])(Object(w["a"])({},Object(x["c"])({invoices:"invoices"})),{},{isFormValid:function(){var e=this;return 0===this.invoices.filter((function(t){return t.number==e.invoiceForm.number})).length}}),methods:{save:function(e){this.$refs.menu.save(e)},reserve:function(){var e=this;this.loading=!0,setTimeout((function(){return e.loading=!1}),2e3)},addInvoice:function(){console.log(this.invoiceForm),this.$store.dispatch("addNewInvoice",this.invoiceForm),this.invoiceForm=Object(w["a"])({},K)}}},X=Q,Z=(n("3753"),n("99d9")),ee=n("2e4b"),te=n("e449"),ne=Object(c["a"])(X,z,G,!1,null,null,null),re=ne.exports;l()(ne,{VBtn:E["a"],VCard:y["a"],VCardActions:Z["a"],VCardTitle:Z["b"],VDatePicker:ee["a"],VMenu:te["a"],VTextField:V["a"]});var ie=n("94ed"),se=n("2ef0"),ae=n.n(se),oe={components:{addInvoice:re},data:function(){return{duplicateId:0,search:"",matchExists:!1,matchedInvoice:[],deleteAlert:!1,icons:{mdiDelete:ie["a"]}}},computed:Object(w["a"])(Object(w["a"])({},Object(x["c"])({invoices:"invoices"})),Object(x["b"])(["getInvoicesNumbers"])),methods:{deleteInvoice:function(e){this.$store.dispatch("deleteInvoiceItem",e),this.deleteAlert=!this.deleteAlert},duplicateInvoice:function(e){var t=this;this.duplicateId=this.invoices.length;while(0!==this.getInvoicesNumbers.filter((function(e){return e.number===t.duplicateId})).length)this.duplicateId+=1;var n=Object(w["a"])({},this.invoices[e]);n.number=this.duplicateId,this.$store.dispatch("duplicateInvoiceItem",n)},searchForInvoice:ae.a.debounce((function(){var e=this,t=this.getInvoicesNumbers.filter((function(t){return t.number==e.search}));t.length?(this.matchExists=!0,this.matchedInvoice=t):""==this.search&&(this.matchExists=!1)}),2e3)}},ce=oe,ue=(n("8643"),n("132d")),le=n("8860"),de=n("da13"),ve=n("5d23"),me=Object(c["a"])(ce,J,Y,!1,null,"76e34ee3",null),pe=me.exports;l()(me,{VBtn:E["a"],VCard:y["a"],VIcon:ue["a"],VList:le["a"],VListItem:de["a"],VListItemContent:ve["a"],VTextField:V["a"]});var fe=n("f309");r["a"].use(fe["a"]);var he=new fe["a"]({});r["a"].component("invoice-list",pe),r["a"].config.productionTip=!1,new r["a"]({router:q,store:H,vuetify:he,render:function(e){return e(m)}}).$mount("#app")},"5bad":function(e,t,n){},"65af":function(e,t,n){},"66a5":function(e,t,n){"use strict";var r=n("5bad"),i=n.n(r);i.a},7806:function(e,t,n){},8643:function(e,t,n){"use strict";var r=n("45e0"),i=n.n(r);i.a}});
//# sourceMappingURL=app.1b7fb2ae.js.map